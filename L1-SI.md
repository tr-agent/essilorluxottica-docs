## L1-SI: High-Level Inventory of All Screens Across Platforms

### 1. Document Purpose

This Level‑1 *Screen‑Inventory* enumerates **every** screen, modal and major wizard step that will exist in the PromoPartner solution. It is the authoritative scope for UI build‑out, early dependency surfacing, and phased delivery planning. Detailed UI/UX artefacts, component behaviours and layouts will be produced in L3‑design documents.
 

### 2. Screen Catalogue

---

### 2.1 Web Portal (**WEBPRT**) – Admin & KAM (KAM has read-only access to Dashboard, Transaction management, User Management, Lenses List, Frames List, Stores List, and Promotion List screens only)

| Platform   | Screen / Modal                           | Primary Roles                                             | Key Features / Purpose                                                           | Critical Data Elements                             | **Dependencies**                                                                                                              | Integration Points                         
| --- | --- | --- | --- | --- | --- | --- |
| Web Portal | **Login (OTP)**                          | Admin (E-mail), KAM (E-mail)                              | OTP entry, resend & verification (Email/SMS)                                       | email/phone, otp_code                                   | `POST /v1/auth/otp/request`, `POST /v1/auth/otp/resend`, `POST /v1/auth/otp/verify` &nbsp;•&nbsp; channel = Email/SMS | MSG91-Email/SMS                                         |
| Web Portal | **Dashboard**                            | Admin, KAM (scoped)                                       | KPI tiles & trends                                                               | store_count, trx_stats, promo_stats              | `GET /v1/stores/stats`, `GET /v1/transactions/stats`, `GET /v1/promotions/stats` &nbsp;•&nbsp; role-scoped cache (KAM: GET only)    | —                                                   |
| Web Portal | **Lenses List**                          | Admin, KAM (scoped, RO)                                                     | CRUD (Admin), View only (KAM), CSV upload (Admin), deactivate                                                     | lens attrs (~18)                                  | `GET /v1/lenses` (Admin/KAM), `POST /v1/lenses`, `PUT /v1/lenses/{id}`, `DELETE /v1/lenses/{id}`, `POST /v1/csv-jobs/lenses/presign`, `POST /v1/csv-jobs/lenses` (Admin only) | Azure Blob                                          |
| Web Portal | **Lens Add/Edit**                        | Admin                                                     | Create/update single lens (image upload optional)                                                        | lens attrs, image_url (optional)                                        | `POST /v1/lenses`, `PUT /v1/lenses/{id}`                                                                                                   | Azure Blob (image)                                 |
| Web Portal | **Frames List**                          | Admin, KAM (scoped, RO)                                                     | CRUD (Admin), View only (KAM), CSV upload (Admin), deactivate                                                     | frame attrs (~20)                                 | `GET /v1/frames` (Admin/KAM), `POST /v1/frames`, `PUT /v1/frames/{id}`, `DELETE /v1/frames/{id}`, `POST /v1/csv-jobs/frames/presign`, `POST /v1/csv-jobs/frames` (Admin only) | Azure Blob                                          |
| Web Portal | **Frame Add/Edit**                       | Admin                                                     | Create/update single frame (image upload optional)                                                       | frame attrs, image_url (optional)                                       | `POST /v1/frames`, `PUT /v1/frames/{id}`                                                                                                   | Azure Blob (image)                                  |
| Web Portal | **Stores List**                          | Admin, KAM (scoped, RO)                                                     | CRUD (Admin), View only (KAM), CSV upload (Admin), deactivate                                                     | store master fields                               | `GET /v1/stores` (Admin/KAM), `POST /v1/stores`, `PUT /v1/stores/{id}`, `DELETE /v1/stores/{id}`, `POST /v1/csv-jobs/stores/presign`, `POST /v1/csv-jobs/stores` (Admin only) | Azure Blob                                          |
| Web Portal | **Store Add/Edit**                       | Admin                                                     | Create/update single store                                                       | store fields                                      | `POST /v1/stores`, `PUT /v1/stores/{id}`                                                                                                    | —                                                   |
| Web Portal | **Users List**                           | Admin, KAM (scoped, RO)                                   | View, deactivate (Admin-only), CSV upload (Admin-only)       | name, phone, role                                 | `GET /v1/users` (Admin/KAM), `POST /v1/users`, `PUT /v1/users/{id}`, `PATCH /v1/users/{id}`, `POST /v1/csv-jobs/users/presign`, `POST /v1/csv-jobs/users` (Admin only) | —                                                   |
| Web Portal | **User Add/Edit**                        | Admin                                         | Manage single user                                 | name, phone, role, stores                         | `POST /v1/users`, `PUT /v1/users/{id}`                                                                                                     | —                                                   |
| Web Portal | **Store-Group Builder**                  | Admin                                                     | Dynamic store-group CRUD                                                         | filter_expression                                 | `GET /v1/store-groups`, `POST /v1/store-groups`, `PUT /v1/store-groups/{id}`, `DELETE /v1/store-groups/{id}`                               | —                                                   |
| Web Portal | **Product-Group Builder**                | Admin                                                     | Dynamic product-group CRUD                                                       | filter_expression                                 | `GET /v1/product-groups`, `POST /v1/product-groups`, `PUT /v1/product-groups/{id}`, `DELETE /v1/product-groups/{id}`                       | —                                                   |
| Web Portal | **Promotion List**                       | Admin, KAM (scoped, RO)                                    | Status change (Admin-only, excluding 'Scheduled'), pause/resume, clone, archive (Admin-only), View only (KAM)                     | id, status                                        | `GET /v1/promotions` (Admin/KAM), `PUT /v1/promotions/{id}/pause`, `PUT /v1/promotions/{id}/resume`, `POST /v1/promotions/{id}/clone`, `PUT /v1/promotions/{id}/archive` (Admin only) | —                                                   |
| Web Portal | **Promotion Wizard – Basic Info**        | Admin                                                     | Wizard step 1/5 (title, dates, banner) - No backward navigation                                           | title, dates, banner                              | `POST /v1/promotions`, `PUT /v1/upload/presign`                                                                                             | Azure Blob                                          |
| Web Portal | **Promotion Wizard – Type**              | Admin                                                     | Wizard step 2 - No backward navigation                                                                    | promo_type                                        | `PATCH /v1/promotions/{id}`                                                                                                                 | —                                                   |
| Web Portal | **Promotion Wizard – Rule Builder**      | Admin                                                     | Wizard step 3 - No backward navigation                                                                    | rule_json                                         | `PATCH /v1/promotions/{id}`                                                                                                                 | —                                                   |
| Web Portal | **Promotion Wizard – Eligibility**       | Admin                                                     | Wizard step 4 - No backward navigation                                                                    | eligibility_json                                  | `PATCH /v1/promotions/{id}`                                                                                                                 | —                                                   |
| Web Portal | **Promotion Wizard – Review & Activate** | Admin                                                     | Wizard step 5 - No backward navigation                                                                    | compiled_sql, status                              | `PUT /v1/promotions/{id}/activate`                                                                                                          | —                                                   |
| Web Portal | **Promotion Test Console**               | Admin                                                     | Dry-run rules                                                                    | sku_list, store_id                                | `POST /v1/promotions/evaluate`                                                                                                              | —                                                   |
| Web Portal | **Check Promotions Drawer**              | Admin                                                     | SKU lookup                                                                       | sku, store_id                                     | `POST /v1/promotions/evaluate`                                                                                                              | —                                                   |
| Web Portal | **Transactions List**                    | Admin (full), KAM (scoped, RO)               | Direct CSV download, status edit (Admin-only), Bulk CSV upload for reconciliation (Admin-only)                       | trx_id, status                                    | `GET /v1/transactions` (Admin/KAM), `GET /v1/transactions/export?csv` (Admin/KAM), `POST /v1/csv-jobs/transactions/presign`, `POST /v1/csv-jobs/transactions` (Admin only)                                                                       | Azure Blob                         |
| Web Portal | **Transaction Detail (inline)**          | Admin, KAM (scoped, RO)                                              | View transaction                                                                 | full trx                                          | `GET /v1/transactions/{id}`                                                                                                                 | —                                                   |
| Web Portal | **System Settings – Hierarchies**        | Admin                                                     | Configure hierarchies for lens/frame fields and upgrade logic                   | hierarchy_configs                                 | `GET /v1/settings/hierarchies`, `PUT /v1/settings/hierarchies`                                                                              | —                                                   |
| Web Portal | **Profile**                              | Admin, KAM                                                | View personal details, logout                                                    | name, email                                       | `GET /v1/users/me`, `POST /v1/auth/logout`                                                                                      | —                                                   |

---

### 2.2 Mobile App (**APP**) – Store & Parent-Store

| Platform | Screen / Modal                       | Primary Roles              | Key Features / Purpose                                           | Critical Data Elements                | **Dependencies**                                                                                                              | Integration Points
| --- | --- | --- | --- | --- | --- | --- |
| Mobile App | **Login (OTP)**                    | Store, Parent              | SMS/Email OTP login (resend, 5 attempt limit)                          | phone/email, otp_code                       | `POST /v1/auth/otp/request`, `POST /v1/auth/otp/resend`, `POST /v1/auth/otp/verify` &nbsp;•&nbsp; SMS/Email channel | MSG91-SMS/Email                     |
| Mobile App | **Home Feed**                      | Store, Parent              | Scroll active promos                                             | promo_cards                           | `GET /v1/promotions/active`                                                                                                   | —                             |
| Mobile App | **Offers Tab**                     | Store, Parent              | Alternate promo filter UI                                        | promo_cards                           | `GET /v1/promotions/active`                                                                                                   | —                             |
| Mobile App | **Product Select – Frame**         | Store, Parent              | Filter, add to cart                                              | frame attrs                           | `GET /v1/products/search?type=frame`                                                                             | —                             |
| Mobile App | **Product Select – Lens**          | Store, Parent              | Filter, add to cart                                              | lens attrs                            | `GET /v1/products/search?type=lens`                                                                              | —                             |
| Mobile App | **Cart Review**                    | Store, Parent              | Edit before offer                                                | cart_items                            | Client-side only (no API)                                                                                        | —                             |
| Mobile App | **Offer Discovery**                | Store, Parent              | Show eligible offers                                             | cart_hash, store_id                   | `POST /v1/promotions/evaluate`                                                                                                 | —                             |
| Mobile App | **Customer Verification (OTP)**    | Store, Parent              | Verify customer eligibility, then SMS/Email OTP                          | phone/email, otp_code, eligibility_status                       | `POST /v1/promotions/{id}/check-eligibility`, `POST /v1/promotions/{id}/request-cust-otp`, `POST /v1/promotions/{id}/verify-cust-otp`                                        | MSG91-SMS/Email                     |
| Mobile App | **Transaction Summary**            | Store, Parent              | Confirm & create trx                                             | eligibility_token                     | `POST /v1/transactions`                                                                                                        | MSG91-SMS (receipt)           |
| Mobile App | **Reconcile List**                 | Store, Parent              | Pending trx                                                      | trx_id, status                        | `GET /v1/transactions?status=NEW,UNDER_REVIEW`                                                                                | —                             |
| Mobile App | **Reconcile Edit**                 | Store, Parent              | Add invoice/PID with image upload                                                  | invoice_no, pid_no, invoice_image                    | `PATCH /v1/transactions/{id}`, `PUT /v1/upload/presign`                                                                                                   | Azure Blob (image)                             |
| Mobile App | **History List**                   | Store, Parent              | Past trx                                                         | date_range                            | `GET /v1/transactions`                                                                                                         | —                             |
| Mobile App | **Store Switch**                   | Parent                     | Choose child context, JWT swap                                   | store_id                              | `GET /v1/stores?parent=me`, `POST /v1/session/switch-store`                                                         | —                             |
| Mobile App | **Child Stores List**              | Parent                     | Manage child stores                                              | store data                            | `GET /v1/stores?parent=me`                                                                                                     | —                             |
| Mobile App | **Create Child Store**             | Parent                     | One-page form                                                    | store fields                          | `POST /v1/stores`                                                                                                              | —                             |
| Mobile App | **Child Store Edit**              | Parent                     | Update / deactivate child store (Parent can deactivate)                                  | store fields                          | `PUT /v1/stores/{id}`, `PATCH /v1/stores/{id}`                                                                                | —                             |
| Mobile App | **Manage Users**                   | Parent                     | Create, view, edit store users                                 | name, phone, email, role, status      | `GET /v1/users?store=<child>`, `POST /v1/users`, `PUT /v1/users/{id}`, `PATCH /v1/users/{id}`                                  | —                             |
| Mobile App | **Transaction Detail**            | Store, Parent              | View full transaction (read-only)                                | trx_id, products, amounts             | `GET /v1/transactions/{id}`                                                                                                     | —                             |
| Mobile App | **Profile**                       | Store, Parent              | View profile, logout                                             | name, store_ids                       | `GET /v1/users/me`, `POST /v1/auth/logout`                                                                                      | —                             |

---

### 3. Screen-to-Screen Flow Matrix (happy path only)

### 3.1 Web Portal (ADMIN & KAM)

| Screen                                   | Platform | Accessible From     | Next Screens                                                            | **Dependencies**                                                                                                          
| --- | --- | --- | --- | --- |
| Login (OTP)                               | Web Portal | Direct URL          | Dashboard                                                               | `POST /v1/auth/otp/request`, `POST /v1/auth/otp/resend`, `POST /v1/auth/otp/verify`                                                                             |
| Dashboard                                | Web Portal | Login success       | Any nav list                                                            | `GET /v1/stores/stats`, `GET /v1/transactions/stats`, `GET /v1/promotions/stats` (KAM: GET only)                                                    |
| Lenses List                              | Web Portal | Nav → Inventory     | Lens Add/Edit (Admin only)                                               | `GET /v1/lenses` (Admin/KAM), `POST /v1/csv-jobs/lenses/presign`, `POST /v1/csv-jobs/lenses` (Admin only)                                                    |
| Lens Add/Edit                            | Web Portal | Lenses List         | Lenses List                                                             | `POST /v1/lenses`, `PUT /v1/lenses/{id}`                                                                                            |
| Frames List                              | Web Portal | Nav → Inventory     | Frame Add/Edit (Admin only)                                              | `GET /v1/frames` (Admin/KAM), `POST /v1/csv-jobs/frames/presign`, `POST /v1/csv-jobs/frames` (Admin only)                                                    |
| Frame Add/Edit                           | Web Portal | Frames List         | Frames List                                                             | `POST /v1/frames`, `PUT /v1/frames/{id}`                                                                                            |
| Stores List                              | Web Portal | Nav → Master Data   | Store Add/Edit (Admin only)                                              | `GET /v1/stores` (Admin/KAM), `POST /v1/csv-jobs/stores/presign`, `POST /v1/csv-jobs/stores` (Admin only)                                                    |
| Store Add/Edit                           | Web Portal | Stores List         | Stores List                                                             | `POST /v1/stores`, `PUT /v1/stores/{id}`                                                                                            |
| Users List                               | Web Portal | Nav → Access        | User Add/Edit (Admin only)                                                           | `GET /v1/users` (Admin/KAM), `POST /v1/csv-jobs/users/presign`, `POST /v1/csv-jobs/users` (Admin only)                                                       |
| User Add/Edit                            | Web Portal | Users List          | Users List                                                              | `POST /v1/users`, `PUT /v1/users/{id}`                                                                                              |
| Store-Group Builder                      | Web Portal | Nav → Group Tools   | —                                                                       | `GET /v1/store-groups`, `POST /v1/store-groups`, `PUT /v1/store-groups/{id}`                                                        |
| Product-Group Builder                    | Web Portal | Nav → Group Tools   | —                                                                       | `GET /v1/product-groups`, `POST /v1/product-groups`, `PUT /v1/product-groups/{id}`                                                  |
| Promotion List                           | Web Portal | Nav → Promotions    | Promotion Wizard – Basic Info (Admin only), Promotion Test Console (Admin only), Check Promotions (Admin only) | `GET /v1/promotions` (Admin/KAM)                                                                                                                |
| Promotion Wizard – Basic Info            | Web Portal | Promotion List      | Promotion Wizard – Type                                                 | `POST /v1/promotions`                                                                                                               |
| Promotion Wizard – Type                  | Web Portal | Basic Info (Next)   | Rule Builder                                                            | `PATCH /v1/promotions/{id}`                                                                                                         |
| Promotion Wizard – Rule Builder          | Web Portal | Type (Next)         | Eligibility                                                             | `PATCH /v1/promotions/{id}`                                                                                                         |
| Promotion Wizard – Eligibility           | Web Portal | Rule Builder (Next) | Review & Activate                                                       | `PATCH /v1/promotions/{id}`                                                                                                         |
| Promotion Wizard – Review & Activate     | Web Portal | Eligibility (Next)  | Promotion List                                                          | `PUT /v1/promotions/{id}/activate`                                                                                                  |
| Promotion Test Console                   | Web Portal | Promotion List      | —                                                                       | `POST /v1/promotions/evaluate`                                                                                                      |
| Check Promotions Drawer                  | Web Portal | Inventory lists     | —                                                                       | `POST /v1/promotions/evaluate`                                                                                                      |
| Transactions List                        | Web Portal | Nav → Transactions  | Transaction Detail                                          | `GET /v1/transactions` (Admin/KAM), `GET /v1/transactions/export?csv` (Admin/KAM), `POST /v1/csv-jobs/transactions/presign`, `POST /v1/csv-jobs/transactions` (Admin only)                                                                           |
| Transaction Detail (inline)              | Web Portal | Transactions List   | Transactions List                                                       | `GET /v1/transactions/{id}`                                                                                                         |
| System Settings – Hierarchies            | Web Portal | Nav → Settings      | —                                                                       | `GET /v1/settings/hierarchies`, `PUT /v1/settings/hierarchies`                                                                      |
| Profile                                  | Web Portal | Header avatar       | Login                                                                   | `GET /v1/users/me`, `POST /v1/auth/logout`                                                                                          |


### 3.2 Mobile App (STORE & PARENT-STORE)

| Screen                          | Platform | Accessible From        | Next Screens                       | **Dependencies**                                                                       |
| --- | --- | --- | --- | --- |
| Login (OTP)                     | Mobile App | App launch             | Home Feed                          | `POST /v1/auth/otp/request`, `POST /v1/auth/otp/resend`, `POST /v1/auth/otp/verify`                                 
| Home Feed                       | Mobile App | Login success          | Offers Tab, Product Select         | `GET /v1/promotions/active`                                                             |
| Offers Tab                      | Mobile App | Home Feed (tab switch) | Product Select                     | `GET /v1/promotions/active`                                                             |
| Product Select – Frame          | Mobile App | Home/Offers            | Cart Review,ProductSelect          | `GET /v1/products/search?type=frame`                                                    |
| Product Select – Lens           | Mobile App | Home/Offers            | Cart Review,ProductSelect          | `GET /v1/products/search?type=lens`                                                     |
| Cart Review                     | Mobile App | Product Select         | Offer Discovery                    | — (client-side cart)                                                                    |
| Offer Discovery                 | Mobile App | Cart Review            | Customer Verification (OTP)       | `POST /v1/promotions/evaluate`                                                          |
| Customer Verification (OTP)     | Mobile App | Offer Discovery        | Transaction Summary                | `POST /v1/promotions/{id}/check-eligibility`, `POST /v1/promotions/{id}/request-cust-otp`, `POST /v1/promotions/{id}/verify-cust-otp` |
| Transaction Summary             | Mobile App | Customer Verification  | Home Feed                          | `POST /v1/transactions`                                                                 |
| Reconcile List                  | Mobile App | Bottom Navigation                 | Reconcile Edit                     | `GET /v1/transactions?status=NEW,UNDER_REVIEW`                                          |
| Reconcile Edit                  | Mobile App | Reconcile List         | Reconcile List                     | `PATCH /v1/transactions/{id}`, `PUT /v1/upload/presign`                                                           |
| History List                    | Mobile App | Bottom Navigation                 | Transaction Detail                | `GET /v1/transactions`                                                                  |
| Transaction Detail             | Mobile App | History List          | History List                       | `GET /v1/transactions/{id}`                                                             |
| Store Switch                    | Mobile App | Home header            | Child Stores List                  | `GET /v1/stores?parent=me`, `POST /v1/session/switch-store`                             |
| Child Stores List               | Mobile App | Store Switch           | Create/Edit Child Store, Manage Users          | `GET /v1/stores?parent=me`                                                              |
| Create Child Store              | Mobile App | Child Stores List      | Child Stores List                  | `POST /v1/stores`                                                                       |
| Child Store Edit                | Mobile App | Child Stores List      | Child Stores List                  | `PUT /v1/stores/{id}`, `PATCH /v1/stores/{id}`                                          |
| Manage Users                | Mobile App | Child Stores List      | Child Stores List                  | `GET /v1/users?store=<child>`, `POST /v1/users`, `PUT /v1/users/{id}`, `PATCH /v1/users/{id}`   |
| Profile                         | Mobile App | Bottom Navigation                 | Login                              | `GET /v1/users/me`, `POST /v1/auth/logout`                                              |

---

### 4. Cross-Platform Observations & Shared Requirements

1. OTP channels: **All users and customers → Email/SMS choice**.  
2. All bulk CSV actions provide inline feedback via confirmation messages and error reports (no dedicated Job Centre screen).  
3. Promotion eligibility (`/v1/promotions/evaluate`) is invoked by both Web (Test Console, Check Promotions) and Mobile (Offer Discovery); contract changes must be backwards-compatible.  
4. Role-based data scoping (Admin vs KAM vs Parent-Store) is enforced server-side; UIs only hide forbidden controls.  

---

### 5. Out-of-Scope Items

Pixel‑level layouts, colour palettes, component libraries, edge‑case modals, automated test harnesses and accessibility specifications reside in L3‑level design artefacts.
---

**End of Document**

---